(this["webpackJsonpaitu-apps-react-boilerplate"]=this["webpackJsonpaitu-apps-react-boilerplate"]||[]).push([[1],{100:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var r,c=n(0),s=n.n(c),a=n(30),i=n.n(a),o=n(36),u=n(4),j=n.n(u),b=n(9),d=n(13),l=n(41),h=n(23),O=n(3),f=n(66),x=(n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),"/habits"),p="/roulette",v="/debt",y="/newHabit",m=n(14),g=n(1),k=function(e){var t=e.debts,n=(e.retrieveDebts,Object(h.e)());console.log(n.pathname);var r="",c=!0;switch(n.pathname){case x:r="UnHabit",c=!1;break;case p:r="\u0420\u0443\u043b\u0435\u0442\u043a\u0430";break;case y:r="\u041d\u043e\u0432\u0430\u044f \u041f\u0440\u0438\u0432\u044b\u0447\u043a\u0430";break;case v:r="\u0414\u043e\u043b\u0433\u0438"}return Object(g.jsx)(O.q,{children:Object(g.jsxs)(O.H,{children:[c?Object(g.jsx)(O.f,{slot:"start",children:Object(g.jsx)(O.c,{defaultHref:x})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(O.G,{children:r}),Object(g.jsx)(O.f,{slot:"end",children:Object(g.jsxs)(O.e,{routerLink:v,children:[Object(g.jsx)(O.r,{icon:m.k,style:{marginRight:"0.4rem"}}),Object(g.jsx)(O.d,{color:t.length>=3?"danger":"primary",style:{position:"absolute",right:"-0.3rem",top:"-0.05rem"},children:t.length})]})})]})})},D=n(28),w=n.n(D),_="/api",C=function(e){var t={Authorization:"Bearer ".concat(e)};return w.a.get("".concat(_,"/debts/"),{headers:t}).then((function(e){return e.data}))},S=function(e,t,n){var r={Authorization:"Bearer ".concat(e)};return w.a.post("".concat(_,"/debts/").concat(t,"/").concat(n),{},{headers:r}).then((function(e){return e.data}))},B=function(e,t){var n={Authorization:"Bearer ".concat(e)};return w.a.delete("".concat(_,"/debts/").concat(t),{headers:n}).then((function(e){return e.data}))},I=function(e){var t={Authorization:"Bearer ".concat(e)};return w.a.get("".concat(_,"/decks/"),{headers:t}).then((function(e){return e.data}))},z=function(e,t){var n={Authorization:"Bearer ".concat(e)};return w.a.post("".concat(_,"/decks/"),t,{headers:n}).then((function(e){return e.data}))},E=function(e,t){var n={Authorization:"Bearer ".concat(e)};return w.a.delete("".concat(_,"/decks/").concat(t),{headers:n}).then((function(e){return e.data}))},A=function(e){var t=e.debts,n=e.retrieveDebts,r=e.setDeck,c=e.history,s=e.aituId,a=e.decks,i=e.retrieveDecks,o=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(s,a[t].id);case 2:return e.next=4,document.querySelector("ion-item-sliding").closeOpened();case 4:i();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(O.C,{children:[Object(g.jsx)(k,{debts:t,retrieveDebts:n}),Object(g.jsxs)(O.m,{children:[Object(g.jsxs)(O.A,{inset:"true",children:[Object(g.jsx)(O.B,{children:Object(g.jsx)(O.z,{children:0===a.length?"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0441\u043d\u0438\u0437\u0443 \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c!":"\u0412\u0430\u0448\u0438 \u0432\u0440\u0435\u0434\u043d\u044b\u0435 \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0438"})}),a.map((function(e,t){return Object(g.jsxs)(O.y,{children:[Object(g.jsx)(O.t,{button:!0,onClick:function(){return function(e){r(a[e]),c.push(p)}(t)},children:Object(g.jsxs)(O.z,{children:[e.name,Object(g.jsx)("p",{})]})},t),Object(g.jsx)(O.x,{onClick:function(e){return o(t)},children:Object(g.jsx)(O.w,{color:"danger",children:Object(g.jsx)(O.r,{slot:"top",icon:m.c})})})]})}))]}),Object(g.jsx)(O.n,{vertical:"bottom",horizontal:"end",slot:"fixed",children:Object(g.jsx)(O.o,{routerLink:y,children:Object(g.jsx)(O.r,{icon:m.a})})})]})]})},F=n(67),H=n(68),L=n(47).a.div(r||(r=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),N=function(e){var t=e.debts,n=e.retrieveDebts,r=e.history,s=e.deck,a=e.aituId,i=e.aituBridge,o=Object(c.useState)(!1),u=Object(d.a)(o,2),l=u[0],h=u[1],f=Object(c.useState)(0),x=Object(d.a)(f,2),p=x[0],v=x[1],y=Object(c.useState)(!1),m=Object(d.a)(y,2),D=m[0],w=m[1],_=Object(c.useState)(!1),C=Object(d.a)(_,2),B=C[0],I=C[1],z=M(s),E=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!1),!i.isSupported()){e.next=4;break}return e.next=4,i.vibrate([300]);case 4:if(!s.actions[p].bad){e.next=8;break}I(!0),e.next=12;break;case 8:return w(!0),e.next=11,S(a,s.id,s.actions[p]._id);case 11:n();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(O.C,{children:[Object(g.jsx)(k,{debts:t,retrieveDebts:n}),Object(g.jsx)(O.m,{children:Object(g.jsxs)(L,{children:[Object(g.jsx)(H.Wheel,{mustStartSpinning:l,prizeNumber:p,data:z,onStopSpinning:E,innerRadius:10,outerBorderWidth:3,outerBorderColor:"#eeeeee",innerBorderColor:"#eeeeee",radiusLineColor:"#eeeeee",radiusLineWidth:3}),Object(g.jsx)(O.e,{disabled:l||D||B,onClick:function(){var e=Math.floor(Math.random()*z.length);v(e),h(!0)},style:{marginTop:"3rem"},children:"\u0412\u0440\u0430\u0449\u0430\u0442\u044c!"}),Object(g.jsx)(O.a,{isOpen:D,onDidDismiss:function(){return w(!1)},header:"'".concat(s.actions[p].name,"'"),message:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0431\u044b\u043b\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043b\u0433\u043e\u0432. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0435\u0433\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435.",buttons:["\u0425\u043e\u0440\u043e\u0448\u043e"]}),Object(g.jsx)(O.a,{isOpen:B,onDidDismiss:function(){return I(!1)},header:"'".concat(s.actions[p].name,"'"),message:"\u0412\u0430\u043c \u043f\u043e\u043f\u0430\u043b\u0430\u0441\u044c \u0432\u0440\u0435\u0434\u043d\u0430\u044f \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0430. \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0434\u043e\u043b\u0433\u0438, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0435\u0433\u043e \u0441\u0435\u0439\u0447\u0430\u0441.",buttons:["\u0425\u043e\u0440\u043e\u0448\u043e"]}),Object(g.jsx)(O.a,{isOpen:t.length>=3,onDidDismiss:function(){return r.goBack()},header:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0434\u043e\u043b\u0433\u043e\u0432",message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0438\u043c\u0435\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e ".concat(3," \u0434\u043e\u043b\u0433\u0430. \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u043e\u043b\u0433\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c."),buttons:["\u0425\u043e\u0440\u043e\u0448\u043e"]})]})})]})},M=function(e){return e.actions.map((function(e,t){return{option:e.name,style:{backgroundColor:"".concat(e.bad?"#f44336":"#4caf50"),textColor:"white"}}}))},U=function(e){var t=e.debts,n=e.retrieveDebts,r=e.aituId,s=Object(c.useState)(!1),a=Object(d.a)(s,2),i=a[0],o=a[1],u=Object(c.useState)(0),l=Object(d.a)(u,2),h=l[0],f=l[1],x=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!1),e.next=4,B(r,t[h].id);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(O.C,{children:[Object(g.jsx)(k,{debts:t,retrieveDebts:n}),Object(g.jsxs)(O.m,{children:[Object(g.jsx)(O.p,{children:Object(g.jsx)(O.F,{children:t.map((function(e,t){return Object(g.jsx)(O.l,{size:"6",children:Object(g.jsxs)(O.g,{button:!0,onClick:function(){f(t),o(!0)},children:[Object(g.jsxs)(O.i,{children:[Object(g.jsxs)(O.j,{children:[Object(g.jsx)(O.r,{icon:m.r})," ",new Date(e.date).toDateString()]}),Object(g.jsx)(O.k,{children:e.action.name})]}),Object(g.jsx)(O.h,{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437-\u0437\u0430 '".concat(e.deck.name,"'")})]},t)})}))})}),Object(g.jsx)(O.a,{isOpen:i,onDidDismiss:function(){return o(!1)},header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",buttons:["\u0415\u0449\u0435 \u043d\u0435\u0442",{text:"\u0414\u0430",handler:x}]})]})]})},T=n(27),W=function(e){e.debts,e.retrieveDebts;var t=e.saveNewHabit,n=Object(h.e)();console.log(n.pathname);var r="";switch(n.pathname){case x:r="Unhabit",!1;break;case p:r="\u0420\u0443\u043b\u0435\u0442\u043a\u0430";break;case y:r="\u041d\u043e\u0432\u0430\u044f \u041f\u0440\u0438\u0432\u044b\u0447\u043a\u0430";break;case v:r="\u0414\u043e\u043b\u0433\u0438"}return Object(g.jsx)(O.q,{children:Object(g.jsxs)(O.H,{children:[Object(g.jsx)(O.f,{slot:"start",children:Object(g.jsx)(O.c,{defaultHref:x})}),Object(g.jsx)(O.G,{children:r}),Object(g.jsx)(O.f,{slot:"end",children:Object(g.jsx)(O.e,{onClick:t,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})},P=function(e){var t=e.debts,n=e.retrieveDebts,r=e.history,s=e.aituId,a=e.retrieveDecks,i=Object(c.useState)(""),o=Object(d.a)(i,2),u=o[0],l=o[1],h=Object(c.useState)([""]),f=Object(d.a)(h,2),p=f[0],v=f[1],y=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=p.map((function(e){return{name:e}}))).push({name:u,bad:!0}),n={name:u,actions:t},e.prev=3,e.next=6,z(s,n);case 6:a(),r.push(x),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(O.C,{children:[Object(g.jsx)(W,{debts:t,retrieveDebts:n,saveNewHabit:y}),Object(g.jsx)(O.m,{children:Object(g.jsxs)(O.A,{children:[Object(g.jsxs)(O.v,{children:[Object(g.jsx)(O.u,{children:"\u0412\u0430\u0448\u0430 \u0432\u0440\u0435\u0434\u043d\u0430\u044f \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0430"}),Object(g.jsx)(O.t,{children:Object(g.jsx)(O.s,{value:u,placeholder:'"\u041f\u043e\u043a\u0443\u0440\u0438\u0442\u044c", "\u041f\u043e\u0435\u0441\u0442\u044c \u0444\u0430\u0441\u0442\u0444\u0443\u0434", \u0438 \u0442.\u0434.',onIonChange:function(e){return l(e.detail.value)}})})]}),Object(g.jsxs)(O.v,{children:[Object(g.jsx)(O.u,{children:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),p.map((function(e,t){return Object(g.jsx)(O.t,{children:Object(g.jsx)(O.s,{value:e,placeholder:'"10 \u043e\u0442\u0436\u0438\u043c\u0430\u043d\u0438\u0439", "\u041f\u0440\u043e\u0433\u0443\u043b\u044f\u0442\u044c\u0441\u044f", \u0438 \u0442.\u0434.',onIonChange:function(e){return n=e.detail.value,r=t,void v(p.map((function(e,t){return r!==t?e:n})));var n,r}})})}))]}),Object(g.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(O.e,{slot:"end",fill:"clear",onClick:function(){return v([].concat(Object(T.a)(p),[""]))},children:Object(g.jsx)(O.r,{icon:m.b,size:"large"})})})]})})]})},q=function(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(d.a)(s,2),i=a[0],u=a[1],m=Object(c.useState)("testId"),k=Object(d.a)(m,2),D=k[0],w=k[1],_=Object(c.useState)([]),S=Object(d.a)(_,2),B=S[0],z=S[1],E=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(D);case 3:t=e.sent,z(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function F(){return(F=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.getMe();case 3:t=e.sent,console.log(t.id),w(t.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function H(){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(D);case 3:t=e.sent,console.log(t),u(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){E()}),[D]),Object(c.useEffect)((function(){l.a.isSupported()&&function(){F.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){H()}),[D]),Object(g.jsx)(O.b,{children:Object(g.jsx)(f.a,{children:Object(g.jsxs)(O.E,{children:[Object(g.jsx)(h.b,{path:x,render:function(e){return Object(g.jsx)(A,Object(o.a)({retrieveDecks:E,decks:B,debts:i,retrieveDebts:H,aituId:D,setDeck:r},e))}}),Object(g.jsx)(h.b,{path:p,render:function(e){return Object(g.jsx)(N,Object(o.a)({aituBridge:l.a,debts:i,retrieveDebts:H,aituId:D,deck:n},e))}}),Object(g.jsx)(h.b,{path:v,render:function(e){return Object(g.jsx)(U,Object(o.a)({debts:i,retrieveDebts:H,aituId:D},e))}}),Object(g.jsx)(h.b,{path:y,render:function(e){return Object(g.jsx)(P,Object(o.a)({retrieveDecks:E,debts:i,retrieveDebts:H,aituId:D},e))}}),Object(g.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(h.a,{to:x})}})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,183)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(q,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),G()},79:function(e,t,n){var r={"./ion-action-sheet.entry.js":[123,5],"./ion-alert.entry.js":[124,6],"./ion-app_8.entry.js":[125,7],"./ion-avatar_3.entry.js":[126,17],"./ion-back-button.entry.js":[127,18],"./ion-backdrop.entry.js":[128,43],"./ion-button_2.entry.js":[129,19],"./ion-card_5.entry.js":[130,20],"./ion-checkbox.entry.js":[131,21],"./ion-chip.entry.js":[132,22],"./ion-col_3.entry.js":[133,44],"./ion-datetime_3.entry.js":[134,10],"./ion-fab_3.entry.js":[135,23],"./ion-img.entry.js":[136,45],"./ion-infinite-scroll_2.entry.js":[137,46],"./ion-input.entry.js":[138,24],"./ion-item-option_3.entry.js":[139,25],"./ion-item_8.entry.js":[140,26],"./ion-loading.entry.js":[141,27],"./ion-menu_3.entry.js":[142,28],"./ion-modal.entry.js":[143,8],"./ion-nav_2.entry.js":[144,14],"./ion-popover.entry.js":[145,9],"./ion-progress-bar.entry.js":[146,29],"./ion-radio_2.entry.js":[147,30],"./ion-range.entry.js":[148,31],"./ion-refresher_2.entry.js":[149,11],"./ion-reorder_2.entry.js":[150,16],"./ion-ripple-effect.entry.js":[151,47],"./ion-route_4.entry.js":[152,32],"./ion-searchbar.entry.js":[153,33],"./ion-segment_2.entry.js":[154,34],"./ion-select_3.entry.js":[155,35],"./ion-slide_2.entry.js":[156,48],"./ion-spinner.entry.js":[157,13],"./ion-split-pane.entry.js":[158,49],"./ion-tab-bar_2.entry.js":[159,36],"./ion-tab_2.entry.js":[160,15],"./ion-text.entry.js":[161,37],"./ion-textarea.entry.js":[162,38],"./ion-toast.entry.js":[163,39],"./ion-toggle.entry.js":[164,12],"./ion-virtual-scroll.entry.js":[165,50]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=79,e.exports=c},81:function(e,t,n){var r={"./ion-icon.entry.js":[166,57]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=81,e.exports=c},89:function(e,t,n){}},[[121,3,4]]]);
//# sourceMappingURL=main.319deef8.chunk.js.map